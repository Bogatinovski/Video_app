"use strict";angular.module("com.2fdevs.videogular.plugins.dash",[]).directive("vgDash",[function(){return{restrict:"A",require:"^videogular",link:function(a,b,c,d){var e,f=new MediaPlayer.utils.Capabilities,g=/^application\/dash\+xml/i;f.supportsMediaSource()&&(a.isDASH=function(a){var b=g.test(a.type),c=a.src.indexOf&&a.src.indexOf(".mpd")>0;return b||c},a.onSourceChange=function(b){var c=b.src;a.isDASH(b)?(e=new MediaPlayer(new Dash.di.DashContext),e.setAutoPlay(d.autoPlay),e.startup(),e.attachView(d.mediaElement[0]),e.attachSource(c)):e&&(e.reset(),e=null,d.mediaElement.attr("src",c),d.stop())},a.$watch(function(){return d.sources},function(b,c){a.onSourceChange(b[0])}))}}}]);